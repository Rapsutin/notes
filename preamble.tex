\usepackage{ntheorem}
\usepackage{graphicx} % Required for inserting images
\usepackage[framemethod=tikz]{mdframed}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{amsfonts}

\numberwithin{equation}{subsection}

\theoremprework{\begin{minipage}{\textwidth}}
    \theorempostwork{\end{minipage}}

\theoremstyle{break}
\theorembodyfont{\upshape}
\newmdtheoremenv[
  roundcorner=5pt,
]{definition}{Definition}[subsection]

\theoremprework{\begin{minipage}{\textwidth}}
    \theorempostwork{\end{minipage}}
\theoremstyle{break}
\theorembodyfont{\upshape}
\newmdtheoremenv[
  roundcorner=5pt,
  linecolor=lightgray,
]{notes}[definition]{Notes}

\theoremprework{\begin{minipage}{\textwidth}}
    \theorempostwork{\end{minipage}}
\theoremstyle{break}
\theorembodyfont{\upshape}
\newmdtheoremenv[
  roundcorner=5pt,
  hidealllines=true,
  leftline=true,
  linecolor=gray
]{theorem}[definition]{Theorem}

\theoremprework{\begin{minipage}{\textwidth}}
    \theorempostwork{\end{minipage}}
\theoremstyle{break}
\theorembodyfont{\upshape}
\newmdtheoremenv[
  roundcorner=5pt,
  hidealllines=true,
  leftline=true,
  linecolor=gray
]{corollary}[definition]{Corollary}